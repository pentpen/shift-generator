# パートタイムシフト管理Webアプリケーションの技術仕様書

## 概要

このアプリケーションは、パートタイム従業員のシフト管理のためのWebアプリケーションです。約20人のユーザーがスマートフォンを使用してアプリケーションにアクセスします。アプリケーションはGoogle Apps Scriptを使用して構築され、すべてのユーザーデータとシフトスケジュールはGoogleシートに保存されます。外部データベースは使用されません。

## 機能

1. 管理者によるユーザーリスト管理（名前、1か月あたりの最大労働時間、1か月あたりの目標労働時間）
2. ユーザーが翌月の希望休暇を月末までに提出
3. 管理者が希望休暇、最大労働時間、目標労働時間を考慮してシフトスケジュールを生成
4. 生成されたシフトスケジュールをGoogleシートに出力
5. ユーザーデータとシフトスケジュールはGoogleシートに保存

## 詳細仕様

### ユーザーインターフェース

アプリケーションは、次の2つのメインビューを持ちます。

1. 管理者ビュー
   - ユーザーリストの管理
   - シフトスケジュールの生成
2. ユーザービュー
   - 希望休暇の提出

### データストレージ

データストレージにはGoogleシートを使用します。以下の2つの別々のシートがあります。

1. ユーザーデータシート
   - 列：名前、1か月あたりの最大労働時間、1か月あたりの目標労働時間
2. シフトスケジュールシート
   - 列：日付、ユーザー名

### 実装

アプリケーションはGoogle Apps Scriptを使用して実装されます。Googleシートと連携するWebアプリケーションの作成が可能です。

#### ステップ1：ユーザーインターフェースの作成

- Google Apps Scriptを使用してユーザーインターフェース用のHTMLテンプレートを作成します。
- テンプレートには、管理者がユーザーリストを管理し、シフトスケジュールを生成するためのフォームとボタン、およびユーザーが希望休暇を提出するためのフォームとボタンが含まれます。

#### ステップ2：ユーザーリスト管理の実装
- Google Apps Scriptの関数を使用して、ユーザーデータをユーザーデータシートに読み込みおよび書き込みます。
- 以下の関数を実装します。
  - 新規ユーザーの追加
  - 既存ユーザーの更新
  - ユーザーの削除
#### ステップ3：希望休暇提出の実装
- Google Apps Scriptの関数を使用して、ユーザーが翌月の希望休暇を提出できるようにします。
- 希望休暇を別のシートに保存し、列名は：ユーザー名、希望休暇日
#### ステップ4：シフトスケジュール生成の実装
- シフトスケジュールを生成するためのGoogle Apps Script関数を作成します。
- この関数は、次の操作を行います。
  - 適切なシートからユーザーデータと希望休暇を読み込む
  - 希望休暇、最大労働時間、目標労働時間を考慮して最適なシフトスケジュールを計算する
  - 生成されたシフトスケジュールをシフトスケジュールシートに書き込む
#### ステップ5：シフトスケジュールのエクスポートの実装
- 生成されたシフトスケジュールを別のGoogleシートにエクスポートするGoogle Apps Script関数を作成します。